#import "SWGApi.h"

@interface SWGApi () {
    NSMutableDictionary *_defaultHeaders;
}

@end

#pragma mark -

@implementation SWGApi

@dynamic apiClient;
- (SWGApiClient *) apiClient {
    return [SWGApiClient sharedClientFromPool:self.basePath];
}

+ (instancetype) apiWithBasePath:(NSString *)basePath {
    return [[self alloc] initWithBasePath:basePath];
}

- (id) initWithBasePath:(NSString *)basePath {
    if (self = [super init]) {
        _basePath = basePath;

        // force to create api client
        [self apiClient];

        _defaultHeaders = [NSMutableDictionary dictionary];
    }
    return self;
}

- (void) setHeader:(NSString*)value forKey:(NSString*)key {
    [_defaultHeaders setValue:value forKey:key];
}

- (unsigned long) requestQueueSize {
    return [SWGApiClient requestQueueSize];
}

@end